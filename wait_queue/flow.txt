사이트 접속 대기열 구현
대기열 토큰 발급 요청
최대 동시 접속자수 이하가 되면 대기열에 있는 사람들 한 명씩 접속 가능
내 순번이 되어 토큰이 유효 상태가 되면 서버 API들 이용 가능
대기중 → 유효로 바뀐 이후, 특정 시간이 지나면 토큰은 만료됨 (이용 제한시간)
Redis 인메모리에 토큰의 상태정보 저장.
Redis를 메시지큐로 활용하여 순번 관리
내 순서가 되었음을 어떻게 알지? → Polling 또는 WebSocket 사용
적용 가능한 패턴
State Pattern: 대기중 → 유효 → 만료 상태 전이
Strategy Pattern: 다양한 대기열 전략 (선착순, 우선순위 기반 등)
Observer Pattern: 순서 도착 시 사용자에게 알림 전송(이벤트 기반)
클린 아키텍처로 구현 (편집됨) 



REDIS
-> 유효토큰 리스트 sadd : set   (접속자 리스트)
-> 접속자 수 카운트 : 접속자 리스트 업데이트 될때마다 같이 계산. 
                    주기적으로 접속자 리스트 길이 확인해서 유효성 검토

-> 우선순위 큐 : zadd : sorted set (score 값 기준으로)  
-> 선착순 큐 : RPUSH / LPOP 

??
상태는 문자열보다 Enum 클래스로.   jwt 토큰화 되나???
polling 을 api 콜로 해야하나 websocket 으로 해야 하나 (websocket 이면 옵저버 패턴으로 해야 하지 않나)
이 흐름에서 processpool을 사용해야 하는 부분이 있다면?